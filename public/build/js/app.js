function initApp(){menu(),validateScreen(),newTask(),viewTask()}function createAlert(e,t,n){const a=document.createElement("DIV");a.classList.add("alerta",t),a.textContent=e;const o=document.createElement("DIV");o.classList.add("contenedor-alertas"),o.appendChild(a),n.appendChild(o)}function menu(){const e=document.querySelector(".bar"),t=document.querySelector(".slide");e.addEventListener("click",(()=>{t.classList.toggle("active")}))}function validateScreen(){const e=document.querySelector(".slide"),t=document.getElementById("form-task");window.innerWidth>765&&(e.classList.remove("active"),t&&t.classList.remove("showTaskCreate"))}function newTask(){const e=document.getElementById("newTask"),t=document.getElementById("form-task");let n="";e&&e.addEventListener("click",(()=>{t.classList.add("showTaskCreate")}));const a=document.getElementById("task");a&&a.addEventListener("input",(e=>{n=e.target.value.trim()}));const o=document.getElementById("taskCancel");o&&o.addEventListener("click",(e=>{e.preventDefault(),t.classList.remove("showTaskCreate")}));const c=document.getElementById("projectId")?.value;document.getElementById("taskCreate").addEventListener("click",(()=>{createTask(n,c)}))}async function createTask(e,t){if(""===e){const e=document.querySelector(".contenedor-alertas");return e&&e.remove(),void createAlert("El nombre es obligatorio","error",document.querySelector(".form-task"))}try{const n="http://localhost:3000/api/task",a=new FormData;a.append("name",e),a.append("state",0),a.append("projectId",t);const o=await fetch(n,{method:"POST",body:a});if(await o.json()){viewTask();document.getElementById("form-task").classList.remove("showTaskCreate");document.getElementById("task").value="",createAlert("Tarea Creada Correctamente","exito",document.querySelector(".dashboard"))}}catch(e){}}async function viewTask(){const e=document.querySelector(".task-containter");e&&e.remove();try{const e="http://localhost:3000/api/task",t=await fetch(e),n=await t.json(),{tareas:a}=n,o=document.getElementById("task");if(0===a.length){const e=document.createElement("P");return e.classList.add("no-task"),e.textContent="No Hay Tareas AÃºn",void o.appendChild(e)}const c=document.querySelector(".no-task"),s=document.getElementById("task-input");c&&c.remove();const r=createTaskStructure(a);o.appendChild(r),s.value=""}catch(e){console.log("Error: ",e)}}function createTaskStructure(e){const t=document.createElement("DIV");return t.classList.add("task-containter"),e.forEach((e=>{let n=`\n      <div class="task-item">\n        <h3 class="task-name center">${e.name}</h3>\n        <div class="task-actions">\n          <button class="state">Estado</button>\n          <button class="state danger">Eliminar</button>\n        </div>\n      </div>\n`;t.innerHTML+=n})),t}document.addEventListener("DOMContentLoaded",(function(){initApp()})),window.onresize=validateScreen;