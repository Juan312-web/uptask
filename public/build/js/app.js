function initApp(){menu(),validateScreen(),newTask()}function menu(){const e=document.querySelector(".bar"),t=document.querySelector(".slide");e.addEventListener("click",(()=>{t.classList.toggle("active")}))}function validateScreen(){const e=document.querySelector(".slide"),t=document.getElementById("form-task");window.innerWidth>765&&(e.classList.remove("active"),t.classList.remove("showTaskCreate"))}function newTask(){const e=document.getElementById("newTask"),t=document.getElementById("form-task");let n="";e.addEventListener("click",(()=>{t.classList.add("showTaskCreate")}));document.getElementById("task").addEventListener("input",(e=>{n=e.target.value.trim()}));document.getElementById("taskCancel").addEventListener("click",(e=>{e.preventDefault(),t.classList.remove("showTaskCreate")}));const a=document.getElementById("projectId").value;document.getElementById("taskCreate").onclick=()=>createTask(n,a)}function createAlert(e,t,n){const a=document.createElement("DIV");a.classList.add("alerta",t),a.textContent=e;const o=document.createElement("DIV");o.classList.add("contenedor-alertas"),o.appendChild(a),n.appendChild(o)}async function createTask(e,t){if(""===e){const e=document.querySelector(".contenedor-alertas");return e&&e.remove(),void createAlert("El nombre es obligatorio","error",document.querySelector(".form-task"))}try{const n="http://localhost:3000/create-task",a=new FormData;a.append("name",e),a.append("projectId",t);const o=await fetch(n,{method:"POST",body:a});if(await o.json()){document.getElementById("form-task").classList.remove("showTaskCreate");document.getElementById("task").value="",createAlert("Tarea Creada Correctamente","exito",document.querySelector(".dashboard"))}}catch(e){}}document.addEventListener("DOMContentLoaded",(function(){initApp()})),window.onresize=validateScreen;